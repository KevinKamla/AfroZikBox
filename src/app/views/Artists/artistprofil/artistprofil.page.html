<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="goToRoute()">
                <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
            </ion-button>
            <ion-button id="IsAlertOpen">
                <ion-icon slot="icon-only" name="ellipsis-horizontal-circle"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div class="container">
        <div class="img-detail">
            <img [src]="artist.avatar" />
            <div class="title d-f-c">
                <h3>{{artist.username}}</h3>
                <ion-icon color="success" name="checkmark-circle"></ion-icon>
            </div>
            <p>Aucune information</p>
        </div>
        <div class="block-btn-header ">
            <ion-buttons slot="start">
                <ion-button expand="bloc" shape="round" (click)="Following()">{{suivre}}</ion-button>
                <ion-button shape="round" expand="bloc" [routerLink]="['/chat',5]">Message</ion-button>
            </ion-buttons>
        </div>

        <div class="recente">
            <div class="box-title d-f-s">
                <h3>Chansons r√©centes</h3>
                <p [routerLink]="['mymusic','Rencents']" button>Voir plus</p>
            </div>
            <div class="container-scroll">
                <div class="scroll-box">
                    <div class="movie" *ngFor="let item of filteredLatest; let i = index">
                        <img class="img-intro" [src]="item.thumbnail" (click)="loadsong(filteredLatest, i)">
                        <p>{{item.title}}</p>
                    </div>
                </div> 
            </div>
        </div>

        <div class="best">
            <div class="box-title d-f-s">
                <h3>Meilleurs Chansons</h3>
                <p [routerLink]="['mymusic','Meilleurs']">Voir plus</p>
            </div>

            <div class="container-scroll">
                <div class="scroll-box">
                    <div class="movie" *ngFor="let item of filteredTOPSongs; let i = index">
                        <img class="img-intro" [src]="item.thumbnail" (click)="loadsong(filteredTOPSongs, i)">
                        <p>
                            <ion-label>{{item.title}}</ion-label>
                        </p>
                    </div>
                </div>
            </div>
            <ng-template>
                <div class="container-scroll">
                    <div class="scroll-box">
                        <div class="movieCharge" *ngFor="let item of [1,2,3,4,5,6,7]">
                            <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                        </div>
                    </div>
                </div>
            </ng-template>
        </div>

        <div class="album">
            <div class="box-title d-f-s">
                <h3>Meilleurs albums</h3>
                <p [routerLink]="['mymusic','Albums']">Voir plus</p>
            </div>

            <div class="container-scroll">
                <div class="scroll-box">
                    <div class="movie" *ngFor="let item of filteredTOPAlbums">
                        <img class="img-intro" [src]="item.thumbnail" (click)="selectAlbum(item)">
                        <div class="p">{{item.title}}</div>
                        <ion-label>{{item.publisher.username}}</ion-label>
                        <div class="number_price">
                            <div class="number_sons">{{item.count_songs}} chansons</div>
                            <ion-badge color="danger" *ngIf="item[1] === 'buy'">$ {{item.price}}</ion-badge>
                        </div>
                    </div>
                </div>
                <ng-template>
                    <div class="container-scroll">
                        <div class="scroll-box">
                            <div class="movieCharge" *ngFor="let item of [1,2,3,4,5,6,7]">
                                <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>

    </div>
</ion-content>

<ion-toast [duration]="5000" [isOpen]="isFollowers" color="primary" message="Vous suivez maintenant l'utilisateur {{username}}"></ion-toast>
<ion-alert trigger="IsAlertOpen" header="Action sur le profil" [buttons]="alertCashfreeButtons"></ion-alert>