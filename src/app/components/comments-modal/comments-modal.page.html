<!-- src/app/components/comments-modal/comments-modal.page.html -->
<ion-header>
  <ion-toolbar color="light"> <!-- Changer la couleur de la barre d'outils -->
    <ion-title>Commentaires</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="comments-container">
    <div *ngIf="comments.length === 0">Aucun commentaire disponible.</div>
    <div *ngIf="comments.length > 0">Nombre de commentaires : {{ comments.length }}</div> <!-- Message de débogage -->
    <div *ngFor="let comment of comments" class="comment">
      <ion-avatar slot="start">
        <img src="https://png.pngtree.com/png-clipart/20230927/original/pngtree-man-avatar-image-for-profile-png-image_13001882.png" alt="Avatar">
      </ion-avatar>
      <p>{{ comment.text }}</p>
      <ion-button fill="clear" (click)="likeComment(comment)">❤️ {{ comment.likes }}</ion-button>
    </div>
  </div>
  <div class="input-container">
    <ion-input placeholder="Votre commentaire..." [(ngModel)]="newComment" class="comment-input"></ion-input>
    <ion-button (click)="addComment()">
      <ion-icon name="send"></ion-icon>
    </ion-button>
  </div>
</ion-content>

<!-- src/app/components/comments-modal/comments-modal.page.html -->
<style>
  .comments-container {
    background-color: #f9f9f9; /* Couleur de fond similaire à celle de la photo */
    padding: 10px; /* Espacement autour des commentaires */
    max-height: 400px; /* Limite la hauteur du conteneur des commentaires */
    overflow-y: auto; /* Ajoute un défilement vertical si nécessaire */
  }
  .comment {
    display: flex; /* Aligne l'avatar et le texte sur la même ligne */
    align-items: center; /* Centre verticalement */
    margin-bottom: 10px; /* Espacement entre les commentaires */
    padding: 5px; /* Ajoute un peu d'espacement interne */
    border-bottom: 1px solid #e0e0e0; /* Ligne de séparation entre les commentaires */
  }
  .input-container {
    display: flex; /* Aligne l'input et le bouton sur la même ligne */
    align-items: center; /* Centre verticalement */
    background-color: #ffffff; /* Couleur de fond pour l'input */
    padding: 10px; /* Espacement autour de l'input */
    border-radius: 5px; /* Coins arrondis */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Ombre légère */
    position: fixed; /* Fixe le conteneur d'entrée en bas de l'écran */
    bottom: 0; /* Positionne le conteneur d'entrée en bas */
    left: 0; /* Aligne à gauche */
    right: 0; /* Aligne à droite */
  }
</style>